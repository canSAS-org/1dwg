<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng" type="xml"?>
<!-- 
    ########### SVN repository information ###################
    # $Date$
    # $Author$
    # $Revision$
    # $HeadURL$
    # $Id$
    ########### SVN repository information ###################
-->
<!-- from: http://www.smallangles.net/wgwiki/index.php/cansas1d_binding_Java-->
<section xml:id="cansas1d_documentation-binding-Java" xmlns="http://docbook.org/ns/docbook"
    version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Java JAXB binding</title>
    <para>
        Documentation for the JAXB binding
        <indexterm significance="preferred">
            <primary>binding</primary>
            <secondary>Java</secondary>
        </indexterm>
        is spotty at this time.
        You can check it out with subversion:
        <example>
            <title>Check out main trunk using subversion.</title>
            <programlisting
                >svn checkout http://svn.smallangles.net/svn/canSAS/1dwg/trunk cansas1d</programlisting>
        </example>
        (where cansas-1d-standard is a local directory name).
    </para>
    <section>
        <title>JAXB</title>
        <itemizedlist>
            <listitem>
                <para>Question : What is JAXB?</para>
            </listitem>
            <listitem>
                <para>Answer : 
                    <link xlink:href="http://java.sun.com/developer/technicalArticles/WebServices/jaxb/"
                        >Java Architecture for XML Binding (JAXB)</link>:
                    <footnote><para>
                        <link xlink:href="http://java.sun.com/developer/technicalArticles/WebServices/jaxb/"
                        ><literal>http://java.sun.com/developer/technicalArticles/WebServices/jaxb/</literal></link></para></footnote>
                    </para>
            </listitem>
            <listitem>
                <para>Wow! : Is it available for other languages?</para>
            </listitem>
            <listitem>
                <para>Answer : Ask Google. JAXB is for Java.
                    (<link xlink:href="http://java.sun.com/developer/technicalArticles/WebServices/jaxb/"
                        >example</link>)
                    <footnote><para>
                        <link xlink:href="http://www.devx.com/ibm/Article/20261"
                            ><literal>http://www.devx.com/ibm/Article/20261</literal></link></para></footnote>
                </para>
            </listitem>
            <listitem>
                <para> 
                    Question : How do I pull out the 
                    <emphasis>I(Q)</emphasis><indexterm><primary>I(Q)</primary></indexterm> 
                    data? 
                </para>
            </listitem>
            <listitem>
                <para> Answer : see fragment below (gets data for desmearing) </para>
            </listitem>
        </itemizedlist>
    </section>
    <section>
        <title>JAXB_cansas1d_reader.java: example usage in JAVA</title>
        <para>
            Here is a Java class that shows how to use the JAXB binding.
            <indexterm>
                <primary>Java file</primary>
                <secondary>JAXB_cansas1d_reader.java</secondary>
            </indexterm>
            Use this with any of the test data supplied with the cansas-1d-standard directory (above).
            By default, it shows the two samples in the <literal>1998spheres.xml</literal> example 
            file.<footnote><para><link 
                xlink:href="http://svn.smallangles.net/trac/canSAS/browser/1dwg/trunk/1998spheres.xml"
                ><literal
                    >http://svn.smallangles.net/trac/canSAS/browser/1dwg/trunk/1998spheres.xml</literal
                ></link></para></footnote>
            <indexterm>
                <primary>XML file</primary>
                <secondary>1998spheres.xml</secondary>
            </indexterm>
            (You'll have to get the directory paths right until this documentation improves.)
        </para>
        <programlisting language="java" linenumbering="numbered"><textobject><textdata
            fileref="JAXB_cansas1d_reader.java"/></textobject></programlisting>
    </section>
    <section>
        <title>example: how to retrieve I(Q)</title>
        <indexterm><primary>I(Q)</primary></indexterm> 
        <para>
            Look for the line that has 
            <informalexample>
                <programlisting>Qsas[i] = sdt.getIdata().get(i).getQ().getValue();</programlisting>
            </informalexample>
            to see the operations that unwind the data into usable double[] vectors. 
            Pretty straightforward.
        </para>
        <itemizedlist>
            <listitem><para>sdt :  SASdataType object</para></listitem>
            <listitem><para>getIdata() :  /SASdata/Idata</para></listitem>
            <listitem><para>get(i) :  /SASdata/Idata[i]</para></listitem>
            <listitem><para>getQ() :  /SASdata/Idata/Q</para></listitem>
            <listitem><para>getValue() :  /SASdata/Idata/Q (value, not the unit)</para></listitem>
        </itemizedlist>
        <section>
            <title>GetSASdata.java</title>
            <indexterm>
                <primary>Java file</primary>
                <secondary>GetSASdata.java</secondary>
            </indexterm>
            <programlisting language="java" linenumbering="numbered"><textobject><textdata
                fileref="GetSASdata.java"/></textobject></programlisting>
            </section>
        <section>
            <title>java-test.xml</title>
            <indexterm>
                <primary>XML file</primary>
                <secondary>java-test.xml</secondary>
            </indexterm>
            <note>
                <para>
                    Ok, better to use SVN/TRAC for these files. 
                    This example could be improved but it proves the point.
                    This file is too long for the manual.
                </para>
            </note>
            <programlisting language="xml" linenumbering="numbered"><textobject><textdata
                fileref="java-test.xml"/></textobject></programlisting>
        </section>
    </section>
</section>
